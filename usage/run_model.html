
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Running a model &#8212; BTAP: ML  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Config" href="../api/config.html" />
    <link rel="prev" title="Train the model" href="retrain.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="running-a-model">
<h1>Running a model<a class="headerlink" href="#running-a-model" title="Permalink to this headline">Â¶</a></h1>
<p>A trained model and its related outputs from <code class="xref py py-mod docutils literal notranslate"><span class="pre">train_model_pipeline</span></code> can be used to obtain
energy and costing predictions for input building and weather data over a specified period of time (typically
from January 1 to December 31 with no added day for a leap year). Note that costing is not daily and thus the
timespan and weather information is not applicable for the costing process.</p>
<p>Predictions can be obtained by running the following command, with all needed inputs being
input through the command line or through the provided <code class="docutils literal notranslate"><span class="pre">input_config.yml</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">run_model</span><span class="o">.</span><span class="n">py</span> <span class="n">input_config</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>The file begins by initializing the preprocessing step which will process all input files
and identify/load the weather data from present climate zones. An input directory of .xlsx
building output files are passed to <code class="docutils literal notranslate"><span class="pre">preprocessing.py</span></code> to be preprocessed into a single
dataset which will then be passed through the trained model to obtain the predictions.</p>
<p>The dataset will be adjusted with the selected features .json file which is generated
when training the specified .h5 trained model. The input data is also scaled with the
same scalers used when training. This ensures that all input data is of the same format
as what has been used for the training.</p>
<p>The predictions are then made by the model, with the output values placed within three csv files,
which link the predictions to the specific buildings within the specific building files.
The <code class="docutils literal notranslate"><span class="pre">daily_energy_predictions.csv</span></code> file outputs the predicted daily energy for a building on
each day in Megajoules per meter squared. The <code class="docutils literal notranslate"><span class="pre">aggregated_energy_predictions.csv</span></code> file
contains the aggregated daily energy outputs in Gigajoules per meter squared for each building within
the specified start and end dates. These typically are 365 days to represent a full year.
The <code class="docutils literal notranslate"><span class="pre">costing_predictions.csv</span></code> file outputs the costing predictions alongside the corresponding rows
from the input files.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">BTAP: ML</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aaw_setup.html">Working on AAW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aaw_setup.html#project-source-code">Project source code</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="retrain.html">Train the model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running a model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/config.html">Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/feature_selection.html">Feature selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/predict.html">Predict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/prepare_weather.html">Prepare weather</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/run_model.html">Run Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/train_model_pipeline.html">Train Model Pipeline</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="retrain.html" title="previous chapter">Train the model</a></li>
      <li>Next: <a href="../api/config.html" title="next chapter">Config</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Natural Resources Canada.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/usage/run_model.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>